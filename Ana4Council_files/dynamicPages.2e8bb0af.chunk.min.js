(window.webpackJsonp__wix_thunderbolt_app=window.webpackJsonp__wix_thunderbolt_app||[]).push([[28],{674:function(e,t,a){"use strict";a.r(t),a.d(t,"site",(function(){return S}));var n,r=a(0),i=a(7),o=a(28),c=a(39),u=a(207),s=a(299),p=a(206),d=a(298),l=a(19),f=a(262),b=a(241),h=a(16);!function(e){e.PAGES="pages",e.SITEMAP="sitemap"}(n||(n={}));var g=function(e){return/(^https?)|(^data)|(^blob)|(^\/\/)/.test(e)},v=function(e){return e.replace("./","").split("/")},_=function(e,t,a,n,r){var i=e.optionsData.bodyData,o=i.routerPrefix,c=i.config,u=i.pageRoles,s=function(e){return"/"+v(e).slice(1).join("/")}(t),p=""+n+o+s+a;return JSON.stringify({routerPrefix:o,routerSuffix:s,fullUrl:p,config:c,pageRoles:u,requestInfo:{formFactor:r}})},j=function(e,t,a,n,i,o,c){var u=e.urlData,s=u.basePath,p=u.queryParams,d=u.appDefinitionId;return{url:function(e,t,a){var n=new URL(e);return n.searchParams.append(t,encodeURIComponent(a)),n.toString()}(s+"/"+c+"?"+p,"instance",a.getAppInstanceByAppDefId(d)),options:Object(r.a)(Object(r.a)({method:"POST",body:_(e,n,i,o,t),headers:e.optionsData.headers},e.optionsData.credentials?{credentials:e.optionsData.credentials}:{}),e.optionsData.mode?{mode:e.optionsData.mode}:{})}},O="__403__dp",m="__404__dp",D="__500__dp",I="__uknown_error__dp",U=function(e,t){return/^\/(.*)/.test(e)?"."+e:"./"+t+"/"+e},w=Object(i.h)([Object(i.f)(o.e,f.a),c.a,l.b,u.a,s.a,p.a,h.d,d.a,c.e],(function(e,t,a,i,o,c,u,s,p){var d=e.prefixToRouterFetchData,l=e.routerPagesSeoToIdMap,h=e.externalBaseUrl,_=e.viewMode,w=function(){p.interactionStarted("initial-dynamic-page-navigation"),p.interactionEnded("initial-dynamic-page-navigation")},P=function(e,t,a){var n=function(e,t,a,n){if(g(e))return e;var r=U(e,a),i=new URL(r,t+"/");return i.search=n,i.toString()}(e,h,t,a.search);i.setHead('<meta http-equiv="refresh" content="0;url='+n+'" />')};return{getSitemapFetchParams:function(e,t){var r=d[e];return r?j(r,_,a,t.relativeUrl,t.parsedUrl.search,h,n.SITEMAP):null},handle:function(e){return Object(r.b)(this,void 0,void 0,(function(){var i,p,S,R,y,x,A=this;return Object(r.d)(this,(function(E){switch(E.label){case 0:return!e.pageId&&e.relativeUrl&&e.parsedUrl?(k=e.relativeUrl,i=v(k)[0],(p=d[i])?[4,(T=c.getCurrentRouteInfo(),!s["specs.thunderbolt.dynamicPagesWarmupData"]||T?null:u.getWarmupData(f.a,{timeout:0}))]:l[i]?[2,Object(r.a)(Object(r.a)({},e),{pageId:m})]:[2,e]):[3,2];case 1:return(S=E.sent())?(w(),[2,Object(r.a)(Object(r.a)({},e),S)]):(R=j(p,_,a,e.relativeUrl,e.parsedUrl.search,h,n.PAGES),y=R.url,x=R.options,[2,o.envFetch(y,x).then((function(a){return Object(r.b)(A,void 0,void 0,(function(){var n,o,u,s,p,d,l,f,h,v;return Object(r.d)(this,(function(_){switch(_.label){case 0:if(!a.ok)throw a;return[4,a.json()];case 1:return n=_.sent(),o=n.result,u=n.exception,s=o.page,p=o.data,d=o.head,l=o.tpaInnerRoute,f=o.publicData,(h=o.redirectUrl)?Object(b.e)(t)?(P(h,i,e.parsedUrl),[2,null]):(g(h)&&t.location.assign(h),[2,{redirectUrl:U(h,i)}]):(!c.getCurrentRouteInfo()&&t&&w(),[2,(v=function(e,t){var a=e.status,n=e.page,r=e.redirectUrl;return t?D:403===a?O:404===a?m:n||r?null:I}(o,u))?Object(r.a)(Object(r.a)({},e),{pageId:v}):Object(r.a)(Object(r.a)({},e),{pageId:s,dynamicRouteData:{pageData:p,pageHeadData:d,publicData:f,tpaInnerRoute:l}})])}}))}))})).catch((function(){return Object(b.e)(t)?null:Object(r.a)(Object(r.a)({},e),{pageId:D})}))]);case 2:return[2,e]}var T,k}))}))}}})),P=a(6),S=function(e,t){t([P.d.Dynamic,o.a],w)}}}]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/dynamicPages.2e8bb0af.chunk.min.js.map