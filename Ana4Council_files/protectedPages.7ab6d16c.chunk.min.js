(window.webpackJsonp__wix_thunderbolt_app=window.webpackJsonp__wix_thunderbolt_app||[]).push([[51],{661:function(t,e,n){"use strict";n.r(e),n.d(e,"site",(function(){return v}));var r,i=n(0),a=n(7),c=n(28),o=n(249);!function(t){t.SM="SM",t.Pass="PASS",t.NONE="NONE"}(r||(r={}));var u=Object(a.h)([Object(a.f)(c.c,o.a),Object(a.f)(c.e,o.a),Object(a.f)(c.b,o.a)],(function(t,e,n){return{handle:function(a){return Object(i.b)(this,void 0,void 0,(function(){var c,o,u,s,d;return Object(i.d)(this,(function(b){return a.pageJsonFileName?[2,a]:(c=a.pageId,o=n.get(),u=o.pagesMap,s=o.loginAndNavigate,u[c]?[2,Object(i.a)(Object(i.a)({},a),{pageJsonFileName:u[c]})]:((d=function(n){var i=t.pagesSecurity[n];return i&&i.requireLogin?r.SM:e.passwordProtected[n]||i&&i.passwordDigest?r.Pass:r.NONE}(c))===r.NONE&&function(t,e){throw new Error("we do not have authentication info for protected page "+t+" page security: "+e)}(c,t.pagesSecurity[c]),s(a,d),[2,null]))}))}))}}})),s=n(6),d=n(214),b=n(230),p=n(39),f=Object(a.h)([Object(a.f)(c.b,o.a),s.b,Object(a.g)(d.b),Object(a.g)(b.b),p.e],(function(t,e,n,a,c){var o=function(t){return Object(i.b)(void 0,void 0,void 0,(function(){return Object(i.d)(this,(function(e){switch(e.label){case 0:return a?[4,a.promptPasswordDialog(t)]:[3,2];case 1:return[2,e.sent()];case 2:return[2,{}]}}))}))},u=function(t,e){return Object(i.b)(void 0,void 0,void 0,(function(){return Object(i.d)(this,(function(a){return[2,t===r.SM?Object(i.b)(void 0,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(e){switch(e.label){case 0:return n?[4,n.requestAuthentication({})]:[3,2];case 1:if((t=e.sent()).success)return[2,n.authorizeMemberPagesByToken(t.token)];e.label=2;case 2:return[2,{}]}}))})):o(e)]}))}))},s=function(n,r){return Object(i.b)(void 0,void 0,void 0,(function(){var a,o,s,d;return Object(i.d)(this,(function(b){switch(b.label){case 0:return b.trys.push([0,2,,3]),o=n.pageId,[4,u(r,o)];case 1:return s=b.sent(),t.update((function(t){return Object(i.a)(Object(i.a)({},t),{pagesMap:Object.assign(t.pagesMap,s)})})),a=s[o]?n.parsedUrl.href:"./",[3,3];case 2:return d=b.sent(),c.captureError(d,{tags:{feature:"protectedPage"}}),a="./",[3,3];case 3:return[2,e.navigate(a)]}}))}))};return t.update((function(){return{loginAndNavigate:s,pagesMap:{}}})),{appWillMount:function(){return Object(i.b)(void 0,void 0,void 0,(function(){return Object(i.d)(this,(function(t){return[2]}))}))}}})),O=n(51),v=function(t){t(s.d.Protected).to(u),t(O.a.AppWillMountHandler).to(f)}}}]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/protectedPages.7ab6d16c.chunk.min.js.map